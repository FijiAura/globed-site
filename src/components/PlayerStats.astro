---

---

<div class="bg-quardiary-darker p-8 rounded-xl max-w-paragraph">
    <canvas class="player-stats"></canvas>
</div>

<script>
    import { Chart } from 'chart.js/auto';

    const data = (await (await fetch('https://globed.dankmeme.dev/public/players?period=hour')).json()).data as [{
        log_time: number,
        count: number,
    }];
    document.querySelectorAll('.player-stats').forEach(canvas => {
        const chart = new Chart(canvas as HTMLCanvasElement, {
            type: 'line',
            data: {
                labels: data.map(row => new Date(row.log_time).toDateString()),
                datasets: [
                    {
                        label: 'Players',
                        data: data.map(row => row.count),
                    }
                ]
            }
        });
    });
</script>
